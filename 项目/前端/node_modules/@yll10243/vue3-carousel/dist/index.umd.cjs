(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue")):typeof define=="function"&&define.amd?define(["vue"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.index=u(e.Vue))})(this,function(e){"use strict";const u={class:"d-carousel-inner"},B={key:0,class:"d-carousel-indicators"},C=["onClick"],h=((l,y)=>{const a=l.__vccOpts||l;for(const[p,n]of y)a[p]=n;return a})(e.defineComponent({name:"AyiCarousel",__name:"index",props:{listData:{type:Array,default(){return[]}},showIndicator:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},autoPlayTime:{type:Number,default:2e3},inAnimate:{type:String,default:"fadeIn"},inAnimateOtherSide:{type:String,default:"fadeIn"},outAnimate:{type:String,default:"fadeOut"},outAnimateOtherSide:{type:String,default:"fadeOut"},speed:{type:String,default:""},waitingTime:{type:Number,default:500}},setup(l,{expose:y}){const a=l,p=a.listData.map(()=>"hide");p[0]="";const n=e.reactive({activeIndex:0,isAutoPlay:a.autoPlay,playing:!1,itemClasses:p}),A=[],f=e.reactive({pageX:0,pageY:0}),k=()=>{for(let t of A)clearTimeout(t)},m=()=>{n.isAutoPlay=!1,k()},P=()=>{if(k(),!n.isAutoPlay||n.playing)return;let t=setTimeout(()=>{n.isAutoPlay&&g()},a.autoPlayTime);A.push(t)},r=()=>{n.isAutoPlay=a.autoPlay,P()},T=t=>{t<0?t=a.listData.length-1:t>=a.listData.length&&(t=0),n.activeIndex=t},_=()=>{!n.playing&&T(n.activeIndex-1)},g=()=>{!n.playing&&T(n.activeIndex+1)},w=(t,o)=>{if(!a.listData.length||n.playing)return;m(),n.playing=!0;const s=a.listData.length-1;let i=t<o||t===s&&o===0;t===0&&o===s&&(i=!1);const d=[];for(let c=0;c<a.listData.length;c++)c===t?d[c]=[i?a.inAnimateOtherSide:a.inAnimate,"active"]:c===o?d[c]=[i?a.outAnimateOtherSide:a.outAnimate]:d[c]=["hide"],d[c].push(a.speed);n.itemClasses=d,a.waitingTime?setTimeout(()=>{n.playing=!1,r()},a.waitingTime):(n.playing=!1,r())},E=t=>{m();const{pageX:o,pageY:s}=t.changedTouches[0];f.pageX=o,f.pageY=s},I=t=>{const o=f.pageX-t.changedTouches[0].pageX,s=f.pageY-t.changedTouches[0].pageY;(Math.abs(s)>Math.abs(o)?s:o)>0?g():_()};return e.onMounted(()=>{r(),window.addEventListener("blur",m),window.addEventListener("focus",r)}),e.onBeforeUnmount(()=>{window.removeEventListener("focus",r),window.removeEventListener("blur",m)}),e.watch([()=>a.listData,()=>a.autoPlay],()=>{r()},{deep:!0,immediate:!0}),e.watch(()=>n.activeIndex,(t,o)=>{w(t,o)},{deep:!0,immediate:!0}),y({prev:_,next:g}),(t,o)=>(e.openBlock(),e.createElementBlock("div",{class:"d-carousel",onMouseenter:m,onMouseleave:r,onTouchstart:E,onTouchend:I},[e.createElementVNode("div",u,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.listData,(s,i)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(["item animated",n.itemClasses[i]])},[e.renderSlot(t.$slots,"default",{record:s,index:i},void 0,!0)],2))),128))]),l.showIndicator?(e.openBlock(),e.createElementBlock("div",B,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.listData.length,(s,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["item",{active:i===n.activeIndex}]),key:i,onClick:d=>n.activeIndex=i},null,10,C))),128))])):e.createCommentVNode("",!0)],32))}}),[["__scopeId","data-v-49f13bcc"]]);return{install(l){l.component(h.name?h.name:"AyiCarousel",h)}}});
