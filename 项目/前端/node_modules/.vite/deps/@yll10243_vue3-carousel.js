import {
  Fragment,
  createBaseVNode,
  createCommentVNode,
  createElementBlock,
  defineComponent,
  normalizeClass,
  onBeforeUnmount,
  onMounted,
  openBlock,
  reactive,
  renderList,
  renderSlot,
  watch
} from "./chunk-FNVLA625.js";
import "./chunk-HUBM7RA2.js";

// node_modules/@yll10243/vue3-carousel/dist/index.js
var N = { class: "d-carousel-inner" };
var F = {
  key: 0,
  class: "d-carousel-indicators"
};
var V = ["onClick"];
var $ = defineComponent({
  name: "AyiCarousel",
  __name: "index",
  props: {
    listData: {
      type: Array,
      default() {
        return [];
      }
    },
    showIndicator: {
      type: Boolean,
      default: true
    },
    autoPlay: {
      type: Boolean,
      default: true
    },
    autoPlayTime: {
      type: Number,
      default: 2e3
    },
    inAnimate: {
      type: String,
      default: "fadeIn"
    },
    inAnimateOtherSide: {
      type: String,
      default: "fadeIn"
    },
    outAnimate: {
      type: String,
      default: "fadeOut"
    },
    outAnimateOtherSide: {
      type: String,
      default: "fadeOut"
    },
    speed: {
      type: String,
      default: ""
    },
    waitingTime: {
      type: Number,
      default: 500
    }
  },
  setup(i, { expose: g }) {
    const t = i, p = t.listData.map(() => "hide");
    p[0] = "";
    const a = reactive({
      activeIndex: 0,
      isAutoPlay: t.autoPlay,
      playing: false,
      itemClasses: p
    }), v = [], f = reactive({ pageX: 0, pageY: 0 }), A = () => {
      for (let e of v)
        clearTimeout(e);
    }, m = () => {
      a.isAutoPlay = false, A();
    }, D = () => {
      if (A(), !a.isAutoPlay || a.playing)
        return;
      let e = setTimeout(() => {
        a.isAutoPlay && y();
      }, t.autoPlayTime);
      v.push(e);
    }, r = () => {
      a.isAutoPlay = t.autoPlay, D();
    }, T = (e) => {
      e < 0 ? e = t.listData.length - 1 : e >= t.listData.length && (e = 0), a.activeIndex = e;
    }, P = () => {
      !a.playing && T(a.activeIndex - 1);
    }, y = () => {
      !a.playing && T(a.activeIndex + 1);
    }, O = (e, n) => {
      if (!t.listData.length || a.playing)
        return;
      m(), a.playing = true;
      const s = t.listData.length - 1;
      let o = e < n || e === s && n === 0;
      e === 0 && n === s && (o = false);
      const u = [];
      for (let l = 0; l < t.listData.length; l++)
        l === e ? u[l] = [o ? t.inAnimateOtherSide : t.inAnimate, "active"] : l === n ? u[l] = [o ? t.outAnimateOtherSide : t.outAnimate] : u[l] = ["hide"], u[l].push(t.speed);
      a.itemClasses = u, t.waitingTime ? setTimeout(() => {
        a.playing = false, r();
      }, t.waitingTime) : (a.playing = false, r());
    }, k = (e) => {
      m();
      const { pageX: n, pageY: s } = e.changedTouches[0];
      f.pageX = n, f.pageY = s;
    }, b = (e) => {
      const n = f.pageX - e.changedTouches[0].pageX, s = f.pageY - e.changedTouches[0].pageY;
      (Math.abs(s) > Math.abs(n) ? s : n) > 0 ? y() : P();
    };
    return onMounted(() => {
      r(), window.addEventListener("blur", m), window.addEventListener("focus", r);
    }), onBeforeUnmount(() => {
      window.removeEventListener("focus", r), window.removeEventListener("blur", m);
    }), watch(
      [() => t.listData, () => t.autoPlay],
      () => {
        r();
      },
      {
        deep: true,
        immediate: true
      }
    ), watch(
      () => a.activeIndex,
      (e, n) => {
        O(e, n);
      },
      {
        deep: true,
        immediate: true
      }
    ), g({
      prev: P,
      next: y
    }), (e, n) => (openBlock(), createElementBlock("div", {
      class: "d-carousel",
      onMouseenter: m,
      onMouseleave: r,
      onTouchstart: k,
      onTouchend: b
    }, [
      createBaseVNode("div", N, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(i.listData, (s, o) => (openBlock(), createElementBlock("div", {
          key: o,
          class: normalizeClass(["item animated", a.itemClasses[o]])
        }, [
          renderSlot(e.$slots, "default", {
            record: s,
            index: o
          }, void 0, true)
        ], 2))), 128))
      ]),
      i.showIndicator ? (openBlock(), createElementBlock("div", F, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(i.listData.length, (s, o) => (openBlock(), createElementBlock("div", {
          class: normalizeClass(["item", { active: o === a.activeIndex }]),
          key: o,
          onClick: (u) => a.activeIndex = o
        }, null, 10, V))), 128))
      ])) : createCommentVNode("", true)
    ], 32));
  }
});
var x = (i, g) => {
  const t = i.__vccOpts || i;
  for (const [p, a] of g)
    t[p] = a;
  return t;
};
var h = x($, [["__scopeId", "data-v-49f13bcc"]]);
var R = {
  install(i) {
    i.component(h.name ? h.name : "AyiCarousel", h);
  }
};

// dep:@yll10243_vue3-carousel
var yll10243_vue3_carousel_default = R;
export {
  yll10243_vue3_carousel_default as default
};
//# sourceMappingURL=@yll10243_vue3-carousel.js.map
